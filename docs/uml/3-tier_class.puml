@startuml 3-tier
hide empty members

skinparam class {
  BackgroundColor<<VL>> PeachPuff
  BackgroundColor<<LL>> DarkSeaGreen
  BackgroundColor<<DL>> LightBlue
  BackgroundColor<<API>> LightGray
}

package ViewLayer {
  Class MainProgram {
    - logged_in_user
    - llapi
  }
  Class ViewFrame <<VL>> {
    - screen: _CursesWindow
    - current_view
    - previous_view
    - available_inputs

    + get_input()
    + display_frame()
    + display_header()
    + display_footer()
  }
  Class LocationView <<VL>> {
    - menu
    - form

    + create_menu()
    + create_form()
    + display_menu()
    + display_view()
    + display_list_view()
    + display_form()
  }
  Class BuildingView <<VL>> {
    - menu
    - form

    + create_menu()
    + create_form()
    + display_menu()
    + display_view()
    + display_list_view()
    + display_form()
  }
  Class EmployeeView <<VL>> {
    - menu
    - form

    + create_menu()
    + create_form()
    + display_menu()
    + display_view()
    + display_list_view()
    + display_form()
  }
  Class ContractorView <<VL>> {
    - menu
    - form

    + create_menu()
    + create_form()
    + display_menu()
    + display_view()
    + display_list_view()
    + display_form()
  }
  Class TaskView <<VL>> {
    - menu
    - form

    + create_menu()
    + create_form()
    + display_menu()
    + display_view()
    + display_list_view()
    + display_form()
  }
  Class SearchView <<VL>> {
    - menu

    + create_menu()
    + display_menu()
  }
  Class LoginView <<VL>> {
    - form

    + create_form()
    + display_form()
  }
package LogicLayer {
  Class LLAPI <<API>> {
    - ALL BL CLASSES
    + ALL EXPOSED FUNCTIONS()
  }
  class LocationLogic <<LL>> {
    + new_location()
    + update_location()
    + get_location(id)
    + get_all_locations()
    + add_extras()

    - parse_form()
  }
  class BuildingLogic <<LL>> {
    + new_building()
    + update_building()
    + get_building(id)
    + get_all_buildings()
    + get_filtered_buildings(filter)
    + get_buildings_by_location()
    + add_extras()

    - parse_form()
  }
  class AccessoryLogic <<LL>> {
    + new_accessory()
    + update_accessory()
    + get_accessory(id)
    + get_all_accessories()
    + get_filtered_accessories()
    + update_maintainence()
    + add_extras()

    - parse_form()
  }
  class EmployeeLogic <<LL>> {
    + new_employee()
    + update_employee()
    + get_employee(id)
    + get_all_employees()
    + get_employee_by_location()
    + add_extras()

    - parse_form()
  }
  class ContractorLogic <<LL>> {
    + new_contractor()
    + update_contractor()
    + get_contractor(id)
    + get_all_contractors()
    + get_filtered_contractors(filter)
    + get_contractor_rating(id)
    + add_extras()

    - parse_form()
  }
  class TaskLogic <<LL>> {
    + new_task()
    + update_task()
    + get_task(id)
    + get_all_tasks()
    + get_filtered_tasks(filter)
    + get_task_for_employee()
    + get_task_for_building()
    + get_task_for_location()
    + get_task_for_contractor()
    + apply_filters()
    + update_task_property()
    + calculate_task_cost()
    + add_extras()

    - parse_form()
  }
  class ReportLogic <<LL>> {
    + new_employee_report()
    + new_contractor_report()
    + update_empoloyee_report()
    + update_contractor_report()
    + update_empoloyee_property()
    + update_contractor_property()
    + get_report(id)
    + get_all_reports()
    + get_filtered_reports(filter)
    + get_reports_for_task()
    + get_reports_for_employee()
    + get_reports_for_contractor()
    + get_reports_for_building()
    
    - add_employee_extras()
    - add_contractor_extras()
    - parse_emoployee_form()
    - parse_contractor_form()

  }
}

package DataLayer {
  Class DLAPI <<API>> {
    - ALL DL CLASSES
    + ALL EXPOSED FUNCTIONS()
  }
  class FileHandler <<DL>> {
    - readFile(file_handler)
    - writeFile(file_handler, data)
    - addLine(file_handler, data)
  }
  Class LocationData <<DL>> {
    - filename: string

    + add_location()
    + update_location()
    + delete_location()
    + get_all_locations()
    + get_one_location(id)
    + get_filtered_locations(filter)

    - parser()
    - get_next_id()
  }
  Class BuildingData <<DL>> {
    - filename: string
    
    + add_building()
    + update_building()
    + delete_building()
    + get_all_buildings()
    + get_one_building(id)
    + get_filtered_buildings(filter)
    
    - parse()
    - get_next_id()
  }
  Class AccessoryData <<DL>> {
    - filename: string
    
    + add_accessory()
    + update_accessory()
    + delete_accessory()
    + get_all_accessories()
    + get_one_accessory(id)
    + get_filtered_accessories(filter)

    - parse()
    - get_next_id()
  }
  Class EmployeeData <<DL>> {
    - filename: string
    
    + add_employee()
    + update_employee()
    + delete_employee()
    + get_all_employees()
    + get_one_employee(id)
    + get_filtered_employees(filter)

    - parse()
    - get_next_id()
  }
  Class ContractorData <<DL>> {
    - filename: string
    
    + add_contractor()
    + update_contractor()
    + delete_contractor()
    + get_all_contractors()
    + get_one_contractor(id)
    + get_filtered_contractors(filter)

    - parser()
    - get_next_id()
  }
  Class ContractorReportData <<DL>> {
    - filename: string
    
    + add_report()
    + update_report()
    + delete_report()
    + get_all_reports()
    + get_one_report(id)
    + get_filtered_reports(filter)

    - parse()
    - get_next_id()
  }
  Class EmployeeReportData <<DL>> {
    - filename: string
    
    + add_report()
    + update_report()
    + delete_report()
    + get_all_reports()
    + get_one_report(id)
    + get_filtered_reports(filter)

    - parse()
    - get_next_id()
  }
  Class TaskData <<DL>> {
    - filename: string
    
    + add_task()
    + update_task()
    + delete_task()
    + get_all_tasks()
    + get_one_task(id)
    + get_filtered_tasks(filter)

    - parse()
    - get_next_id()
  }
}

@enduml